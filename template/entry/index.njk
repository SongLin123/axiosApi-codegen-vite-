/*
 * @Date: 2020-05-13 14:30:24
 * @LastEditors  : BillySong
 * @LastEditTime : 2021-05-10 15:01:16
 * @FilePath: \d2-admin\src\api\index.js
 */
import { assign, map, concat } from 'lodash'
import { request, mock, requestForMock } from './service'
import * as tools from './tools'

const files = import.meta.globEager('./modules/**/index.js')
const generators =  Object.keys(files).map(key => files[key].default)

export default assign(
  {},
  ...concat(
    ...map(generators, funs =>
      funs({
        request,
        mock,
        requestForMock,
        tools
      })
    )
  )
)
